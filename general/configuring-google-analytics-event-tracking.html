<article class="bcls-article">
  <h1>{{ page.title }}</h1>
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <p>The Players module provides the ability to easily integrate Brightcove Players with Google Analytics. This allows player events and custom dimension data to be sent to a Google Analytics account for reporting purposes. Note that when the integration is configured, only analytics for video events will be passed to Google Analytics.</p>
    <aside class="bcls-aside bcls-aside--information">Note: Each analytics system gathers data and calculates metrics differently. {{ site.product_short }} analytics data will not be identical to what appears in Google Analytics.</aside>
    <aside class="bcls-aside bcls-aside--information">Note: The Google Analytics plugin is not supported when using the Brightcove Player SDKs.</aside>
    <aside class="bcls-aside bcls-aside--information">Note: The Players Module supports Google's Universal Analytics and Google Analytics 4 (the "new version") data model. See the <a href="#version">Google Analytics Versions</a> section below for more information.</aside>
    <aside class="bcls-aside bcls-aside--warning">Google Universal Analytics (the "old version") will end of life on July 1, 2023.</aside>
  
  </section>
  
  <!-- This section will have some minor changes based on the new UI. 
    Itâ€™ll allow users to select either a Universal Analytics Account, a GA4 account, or both.-->
  <section class="bcls-section">
    <h2 id="configure">Configuring Google Analytics</h2>
    <p>To configure Google Analytics integration, follow these steps:</p>
    <ol class="bcls-tasklist-restart">
      <li>Open the <strong>Players</strong> module.</li>
      <li>Click the player name you want to configure to open the player properties.</li>
      <li>Click <strong>Third-Party Analytics &gt; Google Analytics </strong>in the left navigation menu.</li>
      <li>Check <strong>Enable Google Analytics</strong>.</li>
      <li>Click <strong>Sign In to Google Account</strong>.</li>
      <li>Select the Google account to sign in with and enter your credentials if prompted.</li>
      <li>Click <strong>Allow</strong> to let Brightcove access your Google account.
        <figure class="bcls-figure"><img class="bcls-image--no-border" alt="" src="/assets/images/s-players-img/general/node18804-permissions.png" /></figure>
      </li>
      <li>Use the <strong>Select Account</strong> dropdown to select the Google account to send tracking data to.
        <figure class="bcls-figure"><img class="bcls-image--no-border" alt="" src="/assets/images/s-players-img/general/node18804-select-account.png" /></figure>
      </li>
      <li>Select the <strong>Events for Tracking</strong>. See the <a href="#events">Events and custom dimensions </a> section below for a description of the events.</li>
      <li>Click  <span class="button-blue">Save</span>. This will configure the player with the Google Analytics plugin and create any needed custom dimensions in your Google Analytics account.
        <aside class="bcls-aside bcls-aside--information">Note: You must have the <strong>Edit</strong> permission in your Google Analytics account in order to create dimensions.</aside>
      </li>
    </ol>
    <p>Make sure to publish the changes to the player.</p>
    <aside class="bcls-aside bcls-aside--information">Note: Use the Advanced embed (in-page) code when publishing your player. The Standard embed (iframe) code will not work as the plugin will be running inside of an iframe and therefore will be unable to interact with the needed JavaScript.</aside>
    <aside class="bcls-aside bcls-aside--warning">The UI configuration is still for Universal Analytics. The configuration for Google Analytics 4 is done via the JSON Editor ONLY in Studio. See <a href="https://player.support.brightcove.com/plugins/google-analytics-plugin.html#Implement_using_Players_module">Google Analytics Plugin</a> for more information.</aside>
  </section>

  <section class="bcls-section">
    <h2 id="events">Events &amp; custom dimensions</h2>
    <p>Both events and custom dimension data can be passed to Google Analytics.</p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="" src="/assets/images/s-players-img/general/node18804-select-events.png" /></figure>
    <p>The following events can be passed.</p>
    <h3>Basic Events</h3>
    <ul>
      <li><strong>Video Impression</strong> - Sent when a video has been loaded into a player and is ready for playback</li>
      <li><strong>Play Request</strong> - Sent when playback is initiated either by the user expressly clicking the play button, or automatically when the platform triggers playback in an auto-play scenario</li>
      <li><strong>Video Engagement</strong> - A user watched a range of seconds of a video's timeline. This event is a heartbeat for tracking video engagement and will likely be sent many times during playback, depending on the user interaction and the length of the video.</li>
    </ul>
    <h3>Advertising Events</h3>
    <ul>
      <li><strong>Ad Start</strong> - Sent when control is handed over to an advertising agent by the playback platform</li>
      <li><strong>Ad End</strong> - Sent when control is handed back from the advertising agent to the playback platform</li>
    </ul>
    <h3>Advanced Events</h3>
    <ul>
      <li><strong>Player Load</strong> - A player session has been initiated by an end-user</li>
      <li><strong>Error</strong> - Sent when fatal errors which disrupt the playback experience are encountered</li>
    </ul>
    <h3>Custom Dimensions</h3>
    <p>Custom dimensions allow you to combine Google Analytics data with non-Analytics data. Custom dimensions collect data that Google Analytics doesn't automatically track. The following custom dimensions are available.</p>
    <aside class="bcls-aside bcls-aside--information">Note: For more information on custom dimensions, see the <a href="#Universal_Analytics_events_and_custom_dimensions">Universal Analytics events and custom dimensions</a> section.</aside>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="" src="/assets/images/s-players-img/general/node18804-select-dimensions.png" /></figure>
    <ul>
      <li><strong>Video Seconds Viewed</strong> - Count of watched seconds (only available if the <strong>Video Engagement</strong> event was selected)</li>
      <li><strong>Range</strong> - The range of seconds viewed (only available if the <strong>Video Engagement</strong> event was selected)</li>
      <li><strong>Video Duration</strong> - The duration of the video in seconds (only available if the <strong>Video Engagement</strong> event was selected)</li>
      <li><strong>Player ID and Player Name</strong> - Player ID and Name</li>
      <li><strong>Account Name</strong> - Brightcove Account ID</li>
      <li><strong>Session</strong> - The session identifier; the session value should be constant for the lifecycle of an experience and sent for all events from that experience</li>
      <li><strong>Player Version</strong> - Brightcove Player version</li>
    </ul>
  </section>

  <section class="bcls-section">
    <h2 id="Universal_Analytics_events_and_custom_dimensions">Universal Analytics events and custom dimensions</h2>
    <p>Google Analytics 4 is replacing Universal Analytics. On July 1, 2023, standard Universal Analytics properties will stop processing data. See the next section for information about GA4 events and custom dimensions.</p>
    <details>
      <summary><h3 id="Universal_Analytics">Universal Analytics</h3></summary>
    <p>These are the events that you can track:</p>
    <ul>
      <li>player_load</li>
      <li>video_engagement</li>
      <li>video_impression</li>
      <li>play_request</li>
      <li>ad_start</li>
      <li>ad_end</li>
      <li>error</li>
    </ul>
    <aside class="bcls-aside bcls-aside--information">Note: For information on the events that can be added in the JSON editor, see <a href="https://player.support.brightcove.com/analytics/ga-self-configure.html">Google Analytics Self Configuration</a>.</aside>
    <p>There are eight custom dimensions from which you can choose to use in your Google Analytics data. Decide which of the following to use:</p>
    <ul>
      <li>bcvideo_account</li>
      <li>bcvideo_platform_version</li>
      <li>bcvideo_player</li>
      <li>bcvideo_range</li>
      <li>bcvideo_session</li>
      <li>bcvideo_tags</li>
      <li>bcvideo_video_duration</li>
      <li>bcvideo_video_seconds_viewed</li>
    </ul>

    <h4>Create custom dimensions</h4>
    <aside class="bcls-aside bcls-aside--information language-editable">Note: The custom events are automatically created in Google Analytics, so no need to perform that task. You can see <a href="https://support.google.com/analytics/answer/2709829?hl=en#zippy=%2Cin-this-article">Set up custom dimensions</a> for more information.</aside>
   
    <p>The steps in this document from Google lead you through the process: <a href="https://support.google.com/analytics/answer/2709829?hl=en">Create and edit custom dimensions and metrics</a>.</p>
    <p>During the creation of each custom dimension, you will be asked to select a <strong>Scope</strong>. For these custom dimensions use the value <samp>Hit</samp>. Also, when you create each custom dimension an index, or sequence, number will be associated with it, as shown in this screenshot:</p>
    <figure class="bcls-figure">
      <img class="bcls-image" src="/assets/images/s-players-img/google-analytics/custom-dimension-index.png" alt="custom dimension index">
    </figure>
    <p>You will need to have available the table of created custom dimensions as the index number is needed in the configuration JSON.</p>
    <p>When creating the dimensions you can choose a more friendly name. For instance, consider the following:</p>
    <ul>
      <li>When creating the custom dimension for <code translate="no">bcvideo_video_duration</code> you name it simply <strong>Duration</strong> because you want the friendlier name used in your reports.</li>
      <li>When created, the index associated with <strong>Duration</strong> is <code translate="no">7</code>.</li>
      <li>In your configuration JSON, you use the following assignment:
        <pre><code class="language-json" translate="No">"bcvideo_video_duration": "dimension7"</code></pre>
        The index number associates the friendly name with the plugin's internal name.
      </li>
    </ul>
    <figure class="bcls-figure">
      <img class="bcls-image" src="/assets/images/s-players-img/google-analytics/ga-dimension-names-index-google-drawings.png" alt="analytics dimension names index">
    </figure>
    <!-- <aside class="bcls-aside bcls-aside--information">If you wish to configure for Universal Analytics ONLY, see the <a href="https://player.support.brightcove.com/analytics/ga-self-configure.html">Google Analytics Self Configuration</a> document.</aside> -->
  </details>

  </section>

  <section class="bcls-section">
    <h2 id="GA4_events_and_custom_dimensions">GA4 events and custom dimensions</h2>
    <p>Any event name used by the player's <code>analytics_event</code> and <code>analytics-beacon</code> events can be used, but the following have special handling in the GA plugin:</p>
    <ul>
      <li>ad_end</li>
      <li>ad_start</li>
      <li>error</li>
      <li>play_request</li>
      <li>player_load</li>
      <li>video_engagement</li>
      <li>video_impression</li>
      <li>video_view</li>
    </ul>
    <!-- <aside class="bcls-aside bcls-aside--information">Note: For information on the events that can be added in the JSON editor, see <a href="https://player.support.brightcove.com/plugins/google-analytics-plugin.html">Google Analytics Plugin</a>.</aside> -->
  
    <p>The following are custom dimensions available for use:</p>
    <ul>
      <li>account</li>
      <li>platform_version</li>
      <li>player</li>
      <li>range</li>
      <li>seconds_viewed</li>
      <li>session</li>
      <li>tags</li>
      <li>video_duration</li>
    </ul>
    <p>Parameters, which you add as custom dimensions in Google Analytics, are associated with event. The following parameters are common to all events:</p>
    <ul>
      <li>account</li>
      <li>player</li>
      <li>session</li>
      <li>tags</li>
      <li>version</li>
    </ul>
    <p>The <code>video_engagement</code> event includes the five parameters listed above, and also adds:</p>
    <ul>
      <li>range</li>
      <li>seconds_viewed</li>
      <li>video_duration</li>
    </ul>


    <h4>Create custom dimensions</h4>
    <aside class="bcls-aside bcls-aside--information language-editable">Note: The custom events are automatically created in Google Analytics, so no need to perform that task. You can see <a href="https://support.google.com/analytics/answer/10075209?hl=en">Custom dimensions and metrics</a> for more information.</aside>
    <p>Note the following:</p>
    <ul>
      <li>During the creation of each custom dimension, you are asked to select a <strong>Scope</strong>. For these custom dimensions use the value <samp>Event</samp>.</li>
      <li>When creating the dimensions you can choose a more friendly name. For instance, consider the following:
        <ul>
          <li>When creating the custom dimension for <code translate="no">video_duration</code> you name it simply <strong>Duration</strong> because you want the friendlier name used in your reports.</li>
        </ul>
      </li>
    </ul>
    <p>Use the follow steps to create the custom dimensions in the Google Analytics UI (steps assume you have create your property):</p>
    <ol class="bcls-tasklist">
      <li>Login to your Google Analytics account.</li>
      <li>In the GA page:
        <ol type="a">
          <li>Click <strong>Admin</strong> (gear icon) in the bottom-let of the UI.</li>
          <li>In the <strong>Property</strong> column, click <strong>Custom Definitions</strong>.
            <figure class="bcls-figure">
              <img class="bcls-image" src="/assets/images/s-players-img/google-analytics/ga-ui-custom-definitions.webp" alt="custom dimensions">
            </figure>
          </li>
        </ol>
      </li>
      <li>Click <strong>Create custom dimension.</strong>
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/s-players-img/google-analytics/create-custom-dimensions.webp" alt="">
        </figure>
      </li>
      <li>Create a custom dimension for each parameter listed in the <strong>paramsToTrackGA4</strong> array, those being:
        <ul>
          <li>account</li>
          <li>platform_version</li>
          <li>player</li>
          <li>range</li>
          <li>seconds_viewed</li>
          <li>session</li>
          <li>tags</li>
          <li>video_duration</li>
        </ul>
        <p>For each parameter in the array, complete the form:</p>
        <ul>
          <li><strong>Dimension name</strong>: Friendly name for your parameter.</li>
          <li><strong>Scope</strong>: This is always <em>Event</em> for Brightcove GA plugin.</li>
          <li><strong>Description</strong>: Add appropriate description.</li>
          <li><strong>Event parameter</strong>: Choose one of the parameters listed just above.</li>
        </ul>
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/s-players-img/google-analytics/new-custom-dimension.webp" alt="">
        </figure>
      </li>
      <p>These custom dimensions are now associated with the appropriate event in your Google Analytics reports.</p>
    </ol>
    <p>For further information on using the Google Analytics UI, see the following:</p>
    <ul>
      <li><a href="https://support.google.com/analytics/answer/10089681">Introducing the next generation of Analytics, Google Analytics 4</a></li>
      <li><a href="https://support.google.com/analytics/answer/9304153">Set up Analytics for a website and/or app</a></li>
      <li><a href="https://support.google.com/analytics/answer/9744165">Add a Google Analytics 4 property (to a site that already has Analytics)</a></li>
      <li><a href="https://support.google.com/analytics/answer/10075209?hl=en">[GA4] Custom dimensions and metrics</a>: Create dimensions and metrics from event parameters and user properties so you can easily access data in reports and explorations</li>
    </ul>
    <!-- <aside class="bcls-aside bcls-aside--information">For more information on how to set up GA4 Plugin, see <a href="https://player.support.brightcove.com/plugins/google-analytics-plugin.html">Google Analytics Plugin</a>.</aside> -->
   
  </section>

  <section class="bcls-section">
    <h2 id="version">Google Analytics Versions</h2>
    <p>The Players Module supports Google's Universal Analytics and Google Analytics 4 (the "new version") data model. Brightcove recommends using GA4 when integrating with the Players module and  Brightcove Players.</p>
    <p>Following are high level steps to creating a Google Analytics 4 and a Universal Analytics property within Google Analytics.</p>
    <h4>Google Analytics 4</h4>
    <ul>
      <li>Create property</li>
      <li>On property home, under <strong>"Start collecting data for your website or app"</strong>, select <strong>Web</strong></li>
      <li>Fill out the form and click <strong>Create Stream</strong></li>
      <li>A Measurement ID <strong>(G-XXXXXXXX)</strong> will be presented. You will use that as your GA4 Tracker</li>
    </ul>
    <h4>Universal Analytics</h4>
    <ul>
      <li>Create property</li>
      <li>Show advanced options</li>
      <li>Toggle <strong>Create a Universal Analytics property</strong> on (toggle switch is on the right)</li>
      <li>Enter a website URL</li>
      <li>Make sure <strong>Create a Universal Analytics property only</strong> is selected</li>
      <li> Fill out the rest of the form; you will be provided with a new property ID beginning with <strong>UA-</strong></li>
    </ul>
    <!-- <p>Note that Google also provides the ability to create a hybrid selection with both a Google Analytics 4 and a Universal Analytics property. Brightcove has not fully tested this scenario.</p> -->
  </section>
</article>
